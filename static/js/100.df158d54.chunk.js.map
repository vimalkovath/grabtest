{"version":3,"sources":["../node_modules/@ionic/pwa-elements/dist/esm-es5/pwa-camera.entry.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","this","n","v","op","TypeError","call","pop","length","push","ImageCapture","window","videoStreamTrack","_this","kind","DOMException","_videoStreamTrack","readyState","_previewStream","MediaStream","videoElement","document","createElement","videoElementPlaying","addEventListener","HTMLMediaElement","srcObject","src","URL","createObjectURL","muted","setAttribute","play","canvasElement","canvas2dContext","getContext","Object","defineProperty","prototype","get","enumerable","configurable","getPhotoCapabilities","MediaSettingsRange","current","min","max","exposureCompensation","exposureMode","fillLightMode","focusMode","imageHeight","imageWidth","iso","redEyeReduction","whiteBalanceMode","zoom","setOptions","_photoSettings","_resolve","_reject","takePhoto","self","width","videoWidth","height","videoHeight","drawImage","toBlob","error","grabFrame","createImageBitmap","CameraPWA","class_1","hostRef","facingMode","showShutterOverlay","flashIndex","hasMultipleCameras","hasFlash","flashModes","flashMode","isServer","componentDidLoad","_a","defaultConstraints","video","queryDevices","initCamera","componentDidUnload","stopStream","photoSrc","revokeObjectURL","hasImageCapture","devices","e_1","navigator","mediaDevices","enumerateDevices","filter","d","onPhoto","constraints","stream","e_2","getUserMedia","assign","audio","initStream","console","log","getVideoTracks","imageCapture","initPhotoCapabilities","el","forceUpdate","c","map","m","indexOf","getTracks","forEach","track","stop","capture","photo","e_3","undefined","flashScreen","promptAccept","rotate","getConstraints","getCapabilities","setFlashMode","mode","cycleFlash","setTimeout","handleShutterClick","_e","handleRotateClick","handleClose","handleFlashClick","handleCancelPhoto","handleAcceptPhoto","iconExit","iconConfirm","iconReverseCamera","iconRetake","iconFlashOff","iconFlashOn","iconFlashAuto","render","videoStreamStyle","transform","class","onClick","style","backgroundImage","display","ref","autoplay","playsinline","offscreenCanvas"],"mappings":"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","file":"static/js/100.df158d54.chunk.js","sourcesContent":["var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { r as registerInstance, d as getContext, h, g as getElement } from './core-0c538558.js';\n/**\n * MediaStream ImageCapture polyfill\n *\n * @license\n * Copyright 2018 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar ImageCapture = window.ImageCapture;\n\nif (typeof ImageCapture === 'undefined') {\n  ImageCapture =\n  /** @class */\n  function () {\n    /**\n     * TODO https://www.w3.org/TR/image-capture/#constructors\n     *\n     * @param {MediaStreamTrack} videoStreamTrack - A MediaStreamTrack of the 'video' kind\n     */\n    function ImageCapture(videoStreamTrack) {\n      var _this = this;\n\n      if (videoStreamTrack.kind !== 'video') throw new DOMException('NotSupportedError');\n      this._videoStreamTrack = videoStreamTrack;\n\n      if (!('readyState' in this._videoStreamTrack)) {\n        // Polyfill for Firefox\n        this._videoStreamTrack.readyState = 'live';\n      } // MediaStream constructor not available until Chrome 55 - https://www.chromestatus.com/feature/5912172546752512\n\n\n      this._previewStream = new MediaStream([videoStreamTrack]);\n      this.videoElement = document.createElement('video');\n      this.videoElementPlaying = new Promise(function (resolve) {\n        _this.videoElement.addEventListener('playing', resolve);\n      });\n\n      if (HTMLMediaElement) {\n        this.videoElement.srcObject = this._previewStream; // Safari 11 doesn't allow use of createObjectURL for MediaStream\n      } else {\n        this.videoElement.src = URL.createObjectURL(this._previewStream);\n      }\n\n      this.videoElement.muted = true;\n      this.videoElement.setAttribute('playsinline', ''); // Required by Safari on iOS 11. See https://webkit.org/blog/6784\n\n      this.videoElement.play();\n      this.canvasElement = document.createElement('canvas'); // TODO Firefox has https://developer.mozilla.org/en-US/docs/Web/API/OffscreenCanvas\n\n      this.canvas2dContext = this.canvasElement.getContext('2d');\n    }\n\n    Object.defineProperty(ImageCapture.prototype, \"videoStreamTrack\", {\n      /**\n       * https://w3c.github.io/mediacapture-image/index.html#dom-imagecapture-videostreamtrack\n       * @return {MediaStreamTrack} The MediaStreamTrack passed into the constructor\n       */\n      get: function get() {\n        return this._videoStreamTrack;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    /**\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-getphotocapabilities\n     * @return {Promise<PhotoCapabilities>} Fulfilled promise with\n     * [PhotoCapabilities](https://www.w3.org/TR/image-capture/#idl-def-photocapabilities)\n     * object on success, rejected promise on failure\n     */\n\n    ImageCapture.prototype.getPhotoCapabilities = function () {\n      return new Promise(function executorGPC(resolve, reject) {\n        // TODO see https://github.com/w3c/mediacapture-image/issues/97\n        var MediaSettingsRange = {\n          current: 0,\n          min: 0,\n          max: 0\n        };\n        resolve({\n          exposureCompensation: MediaSettingsRange,\n          exposureMode: 'none',\n          fillLightMode: ['none'],\n          focusMode: 'none',\n          imageHeight: MediaSettingsRange,\n          imageWidth: MediaSettingsRange,\n          iso: MediaSettingsRange,\n          redEyeReduction: false,\n          whiteBalanceMode: 'none',\n          zoom: MediaSettingsRange\n        });\n        reject(new DOMException('OperationError'));\n      });\n    };\n    /**\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-setoptions\n     * @param {Object} photoSettings - Photo settings dictionary, https://www.w3.org/TR/image-capture/#idl-def-photosettings\n     * @return {Promise<void>} Fulfilled promise on success, rejected promise on failure\n     */\n\n\n    ImageCapture.prototype.setOptions = function (_photoSettings) {\n      if (_photoSettings === void 0) {\n        _photoSettings = {};\n      }\n\n      return new Promise(function executorSO(_resolve, _reject) {// TODO\n      });\n    };\n    /**\n     * TODO\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-takephoto\n     * @return {Promise<Blob>} Fulfilled promise with [Blob](https://www.w3.org/TR/FileAPI/#blob)\n     * argument on success; rejected promise on failure\n     */\n\n\n    ImageCapture.prototype.takePhoto = function () {\n      var self = this;\n      return new Promise(function executorTP(resolve, reject) {\n        // `If the readyState of the MediaStreamTrack provided in the constructor is not live,\n        // return a promise rejected with a new DOMException whose name is \"InvalidStateError\".`\n        if (self._videoStreamTrack.readyState !== 'live') {\n          return reject(new DOMException('InvalidStateError'));\n        }\n\n        self.videoElementPlaying.then(function () {\n          try {\n            self.canvasElement.width = self.videoElement.videoWidth;\n            self.canvasElement.height = self.videoElement.videoHeight;\n            self.canvas2dContext.drawImage(self.videoElement, 0, 0);\n            self.canvasElement.toBlob(resolve);\n          } catch (error) {\n            reject(new DOMException('UnknownError'));\n          }\n        });\n      });\n    };\n    /**\n     * Implements https://www.w3.org/TR/image-capture/#dom-imagecapture-grabframe\n     * @return {Promise<ImageBitmap>} Fulfilled promise with\n     * [ImageBitmap](https://www.w3.org/TR/html51/webappapis.html#webappapis-images)\n     * argument on success; rejected promise on failure\n     */\n\n\n    ImageCapture.prototype.grabFrame = function () {\n      var self = this;\n      return new Promise(function executorGF(resolve, reject) {\n        // `If the readyState of the MediaStreamTrack provided in the constructor is not live,\n        // return a promise rejected with a new DOMException whose name is \"InvalidStateError\".`\n        if (self._videoStreamTrack.readyState !== 'live') {\n          return reject(new DOMException('InvalidStateError'));\n        }\n\n        self.videoElementPlaying.then(function () {\n          try {\n            self.canvasElement.width = self.videoElement.videoWidth;\n            self.canvasElement.height = self.videoElement.videoHeight;\n            self.canvas2dContext.drawImage(self.videoElement, 0, 0); // TODO polyfill https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmapFactories/createImageBitmap for IE\n\n            resolve(window.createImageBitmap(self.canvasElement));\n          } catch (error) {\n            reject(new DOMException('UnknownError'));\n          }\n        });\n      });\n    };\n\n    return ImageCapture;\n  }();\n}\n\nwindow.ImageCapture = ImageCapture;\n\nvar CameraPWA =\n/** @class */\nfunction () {\n  function class_1(hostRef) {\n    registerInstance(this, hostRef);\n    this.facingMode = 'user';\n    this.showShutterOverlay = false;\n    this.flashIndex = 0; // Whether the device has multiple cameras (front/back)\n\n    this.hasMultipleCameras = false; // Whether the device has flash support\n\n    this.hasFlash = false; // Flash modes for camera\n\n    this.flashModes = []; // Current flash mode\n\n    this.flashMode = 'off';\n    this.isServer = getContext(this, \"isServer\");\n  }\n\n  class_1.prototype.componentDidLoad = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (this.isServer) {\n              return [2\n              /*return*/\n              ];\n            }\n\n            this.defaultConstraints = {\n              video: {\n                facingMode: this.facingMode\n              }\n            }; // Figure out how many cameras we have\n\n            return [4\n            /*yield*/\n            , this.queryDevices()];\n\n          case 1:\n            // Figure out how many cameras we have\n            _a.sent(); // Initialize the camera\n\n\n            return [4\n            /*yield*/\n            , this.initCamera()];\n\n          case 2:\n            // Initialize the camera\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.componentDidUnload = function () {\n    this.stopStream();\n    this.photoSrc && URL.revokeObjectURL(this.photoSrc);\n  };\n\n  class_1.prototype.hasImageCapture = function () {\n    return 'ImageCapture' in window;\n  };\n  /**\n   * Query the list of connected devices and figure out how many video inputs we have.\n   */\n\n\n  class_1.prototype.queryDevices = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var devices, e_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , navigator.mediaDevices.enumerateDevices()];\n\n          case 1:\n            devices = _a.sent();\n            this.hasMultipleCameras = devices.filter(function (d) {\n              return d.kind == 'videoinput';\n            }).length > 1;\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            e_1 = _a.sent();\n            this.onPhoto(e_1);\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.initCamera = function (constraints) {\n    return __awaiter(this, void 0, void 0, function () {\n      var stream, e_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!constraints) {\n              constraints = this.defaultConstraints;\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , navigator.mediaDevices.getUserMedia(Object.assign({\n              video: true,\n              audio: false\n            }, constraints))];\n\n          case 2:\n            stream = _a.sent();\n            this.initStream(stream);\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            e_2 = _a.sent();\n            this.onPhoto(e_2);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.initStream = function (stream) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.stream = stream;\n            this.videoElement.srcObject = stream;\n            console.log(stream.getVideoTracks()[0]);\n            if (!this.hasImageCapture()) return [3\n            /*break*/\n            , 2];\n            this.imageCapture = new window.ImageCapture(stream.getVideoTracks()[0]); // console.log(stream.getTracks()[0].getCapabilities());\n\n            return [4\n            /*yield*/\n            , this.initPhotoCapabilities(this.imageCapture)];\n\n          case 1:\n            // console.log(stream.getTracks()[0].getCapabilities());\n            _a.sent();\n\n            _a.label = 2;\n\n          case 2:\n            // Always re-render\n            this.el.forceUpdate();\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.initPhotoCapabilities = function (imageCapture) {\n    return __awaiter(this, void 0, void 0, function () {\n      var c;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , imageCapture.getPhotoCapabilities()];\n\n          case 1:\n            c = _a.sent();\n\n            if (c.fillLightMode.length > 1) {\n              this.flashModes = c.fillLightMode.map(function (m) {\n                return m;\n              }); // Try to recall the current flash mode\n\n              if (this.flashMode) {\n                this.flashMode = this.flashModes[this.flashModes.indexOf(this.flashMode)] || 'off';\n                this.flashIndex = this.flashModes.indexOf(this.flashMode) || 0;\n              } else {\n                this.flashIndex = 0;\n              }\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.stopStream = function () {\n    this.stream && this.stream.getTracks().forEach(function (track) {\n      return track.stop();\n    });\n  };\n\n  class_1.prototype.capture = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var photo, e_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!this.hasImageCapture()) return [3\n            /*break*/\n            , 5];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 4,, 5]);\n\n            return [4\n            /*yield*/\n            , this.imageCapture.takePhoto({\n              fillLightMode: this.flashModes.length > 1 ? this.flashMode : undefined\n            })];\n\n          case 2:\n            photo = _a.sent();\n            return [4\n            /*yield*/\n            , this.flashScreen()];\n\n          case 3:\n            _a.sent();\n\n            this.promptAccept(photo);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            e_3 = _a.sent();\n            console.error('Unable to take photo!', e_3);\n            return [3\n            /*break*/\n            , 5];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.promptAccept = function (photo) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.photo = photo;\n        this.photoSrc = URL.createObjectURL(photo);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  class_1.prototype.rotate = function () {\n    this.stopStream();\n    var track = this.stream && this.stream.getTracks()[0];\n\n    if (!track) {\n      return;\n    }\n\n    var c = track.getConstraints();\n    var facingMode = c.facingMode;\n\n    if (!facingMode) {\n      var c_1 = track.getCapabilities();\n      facingMode = c_1.facingMode[0];\n    }\n\n    if (facingMode === 'environment') {\n      this.initCamera({\n        video: {\n          facingMode: 'user'\n        }\n      });\n    } else {\n      this.initCamera({\n        video: {\n          facingMode: 'environment'\n        }\n      });\n    }\n  };\n\n  class_1.prototype.setFlashMode = function (mode) {\n    console.log('New flash mode: ', mode);\n    this.flashMode = mode;\n  };\n\n  class_1.prototype.cycleFlash = function () {\n    if (this.flashModes.length > 0) {\n      this.flashIndex = (this.flashIndex + 1) % this.flashModes.length;\n      this.setFlashMode(this.flashModes[this.flashIndex]);\n    }\n  };\n\n  class_1.prototype.flashScreen = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        return [2\n        /*return*/\n        , new Promise(function (resolve, _reject) {\n          _this.showShutterOverlay = true;\n          setTimeout(function () {\n            _this.showShutterOverlay = false;\n            resolve();\n          }, 100);\n        })];\n      });\n    });\n  };\n\n  class_1.prototype.handleShutterClick = function (_e) {\n    console.log();\n    this.capture();\n  };\n\n  class_1.prototype.handleRotateClick = function (_e) {\n    this.rotate();\n  };\n\n  class_1.prototype.handleClose = function (_e) {\n    this.onPhoto && this.onPhoto(null);\n  };\n\n  class_1.prototype.handleFlashClick = function (_e) {\n    this.cycleFlash();\n  };\n\n  class_1.prototype.handleCancelPhoto = function (_e) {\n    this.photo = null;\n  };\n\n  class_1.prototype.handleAcceptPhoto = function (_e) {\n    this.onPhoto && this.onPhoto(this.photo);\n  };\n\n  class_1.prototype.iconExit = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M402.2,134L378,109.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L139.6,109.8 c-1.6-1.6-4.1-1.6-5.7,0L109.8,134c-1.6,1.6-1.6,4.1,0,5.7l113.5,113.5c1.6,1.6,1.6,4.1,0,5.7L109.8,372.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l113.5-113.5c1.6-1.6,4.1-1.6,5.7,0l113.5,113.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l113.5-113.5C403.7,138.1,403.7,135.5,402.2,134z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconConfirm = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%232CD865' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_1_'%3E%3Cg%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M208,301.4l-55.4-55.5c-1.5-1.5-4-1.6-5.6-0.1l-23.4,22.3c-1.6,1.6-1.7,4.1-0.1,5.7l81.6,81.4 c3.1,3.1,8.2,3.1,11.3,0l171.8-171.7c1.6-1.6,1.6-4.2-0.1-5.7l-23.4-22.3c-1.6-1.5-4.1-1.5-5.6,0.1L213.7,301.4 C212.1,303,209.6,303,208,301.4z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconReverseCamera = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M352,0H160C72,0,0,72,0,160v192c0,88,72,160,160,160h192c88,0,160-72,160-160V160C512,72,440,0,352,0z M356.7,365.8l-3.7,3.3c-27,23.2-61.4,35.9-96.8,35.9c-72.4,0-135.8-54.7-147-125.6c-0.3-1.9-2-3.3-3.9-3.3H64 c-3.3,0-5.2-3.8-3.2-6.4l61.1-81.4c1.6-2.1,4.7-2.1,6.4-0.1l63.3,81.4c2,2.6,0.2,6.5-3.2,6.5h-40.6c-2.5,0-4.5,2.4-3.9,4.8 c11.5,51.5,59.2,90.6,112.4,90.6c26.4,0,51.8-9.7,73.7-27.9l3.1-2.5c1.6-1.3,3.9-1.1,5.3,0.3l18.5,18.6 C358.5,361.6,358.4,364.3,356.7,365.8z M451.4,245.6l-61,83.5c-1.6,2.2-4.8,2.2-6.4,0.1l-63.3-83.3c-2-2.6-0.1-6.4,3.2-6.4h40.8 c2.5,0,4.4-2.3,3.9-4.8c-5.1-24.2-17.8-46.5-36.5-63.7c-21.2-19.4-48.2-30.1-76-30.1c-26.5,0-52.6,9.7-73.7,27.3l-3.1,2.5 c-1.6,1.3-3.9,1.2-5.4-0.3l-18.5-18.5c-1.6-1.6-1.5-4.3,0.2-5.9l3.5-3.1c27-23.2,61.4-35.9,96.8-35.9c38,0,73.9,13.7,101.2,38.7 c23.2,21.1,40.3,55.2,45.7,90.1c0.3,1.9,1.9,3.4,3.9,3.4h41.3C451.4,239.2,453.3,243,451.4,245.6z'/%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconRetake = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' enable-background='new 0 0 512 512' xml:space='preserve'%3E%3Ccircle fill='%23727A87' cx='256' cy='256' r='256'/%3E%3Cg id='Icon_5_'%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M394.2,142L370,117.8c-1.6-1.6-4.1-1.6-5.7,0L258.8,223.4c-1.6,1.6-4.1,1.6-5.7,0L147.6,117.8 c-1.6-1.6-4.1-1.6-5.7,0L117.8,142c-1.6,1.6-1.6,4.1,0,5.7l105.5,105.5c1.6,1.6,1.6,4.1,0,5.7L117.8,364.4c-1.6,1.6-1.6,4.1,0,5.7 l24.1,24.1c1.6,1.6,4.1,1.6,5.7,0l105.5-105.5c1.6-1.6,4.1-1.6,5.7,0l105.5,105.5c1.6,1.6,4.1,1.6,5.7,0l24.1-24.1 c1.6-1.6,1.6-4.1,0-5.7L288.6,258.8c-1.6-1.6-1.6-4.1,0-5.7l105.5-105.5C395.7,146.1,395.7,143.5,394.2,142z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconFlashOff = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cg%3E%3Cpath class='st0' d='M498,483.7L42.3,28L14,56.4l149.8,149.8L91,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9c1.6,0,2.7,1.3,2.4,2.7 L197.6,507c-1,4.4,5.8,6.9,8.9,3.2l118.6-142.8L469.6,512L498,483.7z'/%3E%3Cpath class='st0' d='M449,218.2c2.5-3,0.1-7.2-3.9-7.2H301.2c-1.6,0-2.7-1.3-2.4-2.7L342.4,5c1-4.4-5.8-6.9-8.9-3.2L214.9,144.6 l161.3,161.3L449,218.2z'/%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconFlashOn = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.iconFlashAuto = function () {\n    return \"data:image/svg+xml,%3Csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 512 512' style='enable-background:new 0 0 512 512;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E .st0%7Bfill:%23FFFFFF;%7D%0A%3C/style%3E%3Cpath class='st0' d='M287.2,211c-1.6,0-2.7-1.3-2.4-2.7L328.4,5c1-4.4-5.8-6.9-8.9-3.2L77,293.8c-2.5,3-0.1,7.2,3.9,7.2h143.9 c1.6,0,2.7,1.3,2.4,2.7L183.6,507c-1,4.4,5.8,6.9,8.9,3.2l242.5-292c2.5-3,0.1-7.2-3.9-7.2L287.2,211L287.2,211z'/%3E%3Cg%3E%3Cpath class='st0' d='M321.3,186l74-186H438l74,186h-43.5l-11.9-32.5h-80.9l-12,32.5H321.3z M415.8,47.9l-27.2,70.7h54.9l-27.2-70.7 H415.8z'/%3E%3C/g%3E%3C/svg%3E\";\n  };\n\n  class_1.prototype.render = function () {\n    var _this = this;\n\n    var videoStreamStyle = this.facingMode == \"user\" ? {\n      transform: 'scaleX(-1)'\n    } : {};\n    return h(\"div\", {\n      class: \"camera-wrapper\"\n    }, h(\"div\", {\n      class: \"camera-header\"\n    }, h(\"section\", {\n      class: \"items\"\n    }, h(\"div\", {\n      class: \"item close\",\n      onClick: function onClick(e) {\n        return _this.handleClose(e);\n      }\n    }, h(\"img\", {\n      src: this.iconExit()\n    })), h(\"div\", {\n      class: \"item flash\",\n      onClick: function onClick(e) {\n        return _this.handleFlashClick(e);\n      }\n    }, this.flashModes.length > 0 && h(\"div\", null, this.flashMode == 'off' ? h(\"img\", {\n      src: this.iconFlashOff()\n    }) : '', this.flashMode == 'auto' ? h(\"img\", {\n      src: this.iconFlashAuto()\n    }) : '', this.flashMode == 'flash' ? h(\"img\", {\n      src: this.iconFlashOn()\n    }) : '')))), this.photo && h(\"div\", {\n      class: \"accept\"\n    }, h(\"div\", {\n      class: \"accept-image\",\n      style: {\n        backgroundImage: \"url(\" + this.photoSrc + \")\"\n      }\n    })), h(\"div\", {\n      class: \"camera-video\",\n      style: {\n        display: this.photo ? 'none' : ''\n      }\n    }, this.showShutterOverlay && h(\"div\", {\n      class: \"shutter-overlay\"\n    }), this.hasImageCapture() ? h(\"video\", {\n      style: videoStreamStyle,\n      ref: function ref(el) {\n        return _this.videoElement = el;\n      },\n      autoplay: true,\n      playsinline: true\n    }) : h(\"canvas\", {\n      ref: function ref(el) {\n        return _this.canvasElement = el;\n      },\n      width: \"100%\",\n      height: \"100%\"\n    }), h(\"canvas\", {\n      class: \"offscreen-image-render\",\n      ref: function ref(e) {\n        return _this.offscreenCanvas = e;\n      },\n      width: \"100%\",\n      height: \"100%\"\n    })), h(\"div\", {\n      class: \"camera-footer\"\n    }, !this.photo ? [h(\"div\", {\n      class: \"shutter\",\n      onClick: function onClick(e) {\n        return _this.handleShutterClick(e);\n      }\n    }, h(\"div\", {\n      class: \"shutter-button\"\n    })), h(\"div\", {\n      class: \"rotate\",\n      onClick: function onClick(e) {\n        return _this.handleRotateClick(e);\n      }\n    }, h(\"img\", {\n      src: this.iconReverseCamera()\n    })), {\n      /*this.hasMultipleCameras && (<div class=\"item rotate\" onClick={(e) => this.handleRotateClick(e)}></div>)*/\n    }] : h(\"section\", {\n      class: \"items\"\n    }, h(\"div\", {\n      class: \"item accept-cancel\",\n      onClick: function onClick(e) {\n        return _this.handleCancelPhoto(e);\n      }\n    }, h(\"img\", {\n      src: this.iconRetake()\n    })), h(\"div\", {\n      class: \"item accept-use\",\n      onClick: function onClick(e) {\n        return _this.handleAcceptPhoto(e);\n      }\n    }, h(\"img\", {\n      src: this.iconConfirm()\n    })))));\n  };\n\n  Object.defineProperty(class_1, \"assetsDirs\", {\n    get: function get() {\n      return [\"icons\"];\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(class_1.prototype, \"el\", {\n    get: function get() {\n      return getElement(this);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(class_1, \"style\", {\n    get: function get() {\n      return \":host{--header-height:4em;--footer-height:9em;--shutter-size:6em;--icon-size-header:1.5em;--icon-size-footer:2.5em;--margin-size-header:1.5em;--margin-size-footer:2.0em;font-family:-apple-system,BlinkMacSystemFont,“Segoe UI”,“Roboto”,“Droid Sans”,“Helvetica Neue”,sans-serif;display:block}.items,:host{width:100%;height:100%}.items{-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}.items .item{-ms-flex:1;flex:1;text-align:center}.items .item:first-child{text-align:left}.items .item:last-child{text-align:right}.camera-wrapper{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%}.camera-header{color:#fff;background-color:#000;height:var(--header-height)}.camera-header .items{padding:var(--margin-size-header)}.camera-footer{position:relative;color:#fff;background-color:#000;height:var(--footer-height)}.camera-footer .items{padding:var(--margin-size-footer)}.camera-video{position:relative;-ms-flex:1;flex:1;overflow:hidden}.camera-video,video{background-color:#000}video{width:100%;height:100%;max-height:100%;min-height:100%;z-index:-1;-o-object-fit:cover;object-fit:cover}.shutter{position:absolute;left:50%;top:50%;width:var(--shutter-size);height:var(--shutter-size);margin-top:calc(var(--shutter-size) / -2);margin-left:calc(var(--shutter-size) / -2);border-radius:100%;background-color:#c6cdd8;padding:12px;-webkit-box-sizing:border-box;box-sizing:border-box}.shutter:active .shutter-button{background-color:#9da9bb}.shutter-button{background-color:#fff;border-radius:100%;width:100%;height:100%}.rotate{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;position:absolute;right:var(--margin-size-footer);top:0;height:100%;color:#fff}.rotate,.rotate img{width:var(--icon-size-footer)}.rotate img{height:var(--icon-size-footer)}.shutter-overlay{z-index:5;position:absolute;width:100%;height:100%;background-color:#000}.error{width:100%;height:100%;color:#fff;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.accept{background-color:#000;-ms-flex:1;flex:1}.accept .accept-image{width:100%;height:100%;background-position:50%;background-size:cover;background-repeat:no-repeat}.close img,.flash img{width:var(--icon-size-header);height:var(--icon-size-header)}.accept-cancel img,.accept-use img{width:var(--icon-size-footer);height:var(--icon-size-footer)}.offscreen-image-render{top:0;left:0;visibility:hidden;pointer-events:none;width:100%;height:100%}\";\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return class_1;\n}();\n\nexport { CameraPWA as pwa_camera };"],"sourceRoot":""}